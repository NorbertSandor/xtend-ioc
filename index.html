<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>xtend-ioc</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>xtend-ioc</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_xtend">1.1. Xtend</a></li>
<li><a href="#_inversion_of_control_and_dependency_injection">1.2. Inversion of control and dependency injection</a></li>
<li><a href="#_compile_time_vs_runtime_frameworks">1.3. Compile-time vs runtime frameworks</a></li>
</ul>
</li>
<li><a href="#_status">2. Status</a></li>
<li><a href="#_building_blocks">3. Building blocks</a>
<ul class="sectlevel2">
<li><a href="#_components">3.1. Components</a>
<ul class="sectlevel3">
<li><a href="#component-class">3.1.1. @Component / component classes</a></li>
<li><a href="#component-qualifiers">3.1.2. @Qualifier / qualifiers</a></li>
<li><a href="#component-typesignature">3.1.3. Type signature of components</a></li>
<li><a href="#__inject_dependency_injection">3.1.4. @Inject / dependency injection</a>
<ul class="sectlevel4">
<li><a href="#_field_injection">Field injection</a></li>
<li><a href="#_constructor_injection">Constructor injection</a></li>
<li><a href="#indirect-component-references">Indirect component references</a></li>
<li><a href="#_references_to_multiple_components">References to multiple components</a></li>
<li><a href="#_generic_component_references">Generic component references</a></li>
</ul>
</li>
<li><a href="#component-scope">3.1.5. @Scope / component scope</a>
<ul class="sectlevel4">
<li><a href="#component-scope-singleton">@Singleton / singleton scope</a></li>
<li><a href="#component-scope-prototype">@Prototype / prototype scope</a></li>
</ul>
</li>
<li><a href="#component-lifecycle-annotations">3.1.6. @PostConstruct and @PreDestroy / lifecycle callbacks</a></li>
<li><a href="#component-eager">3.1.7. @Eager / eager components</a></li>
<li><a href="#component-providers">3.1.8. @Provider / components instantiated by user code</a>
<ul class="sectlevel4">
<li><a href="#_simple_component_providers">Simple component providers</a></li>
<li><a href="#parameterized-component-providers">Parameterized component providers</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_modules">3.2. Modules</a>
<ul class="sectlevel3">
<li><a href="#__module_defining_modules">3.2.1. @Module / defining modules</a></li>
<li><a href="#_module_inheritance">3.2.2. Module inheritance</a></li>
<li><a href="#_module_lifecycle_singleton_modules">3.2.3. Module lifecycle / Singleton modules</a></li>
<li><a href="#module-abstract">3.2.4. Abstract and non-abstract modules</a></li>
<li><a href="#module-level-component-references">3.2.5. Module-level component references</a></li>
<li><a href="#_the_relation_of_modules_and_component_classes">3.2.6. The relation of modules and component classes</a></li>
<li><a href="#component-dependency-graph">3.2.7. The component dependency graph</a></li>
<li><a href="#_module_report">3.2.8. Module report</a></li>
<li><a href="#_gwt_support">3.2.9. GWT support</a></li>
</ul>
</li>
<li><a href="#_module_local_event_dispatching">3.3. Module-local event dispatching</a></li>
<li><a href="#dependency-injection-for-non-components">3.4. Dependency injection for non-components</a></li>
</ul>
</li>
<li><a href="#_faq">4. FAQ</a></li>
<li><a href="#_appendix">5. Appendix</a>
<ul class="sectlevel2">
<li><a href="#_message_codes">5.1. Message codes</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>xtend-ioc</em> is a compile-time inversion of control framework for <a href="http://www.eclipse.org/xtend/">Xtend</a>.<br>
Its main features are</p>
</div>
<div class="ulist">
<ul>
<li>
<p>component instantiation and lifecycle management,</p>
</li>
<li>
<p>dependency injection and</p>
</li>
<li>
<p>event dispatching between component instances.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_xtend">1.1. Xtend</h3>
<div class="paragraph">
<p><em>xtend-ioc</em> is built on <a href="http://www.eclipse.org/xtend/">Xtend</a>:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Xtend is a statically-typed programming language which translates to comprehensible Java source code. Syntactically and semantically Xtend has its roots in the Java programming language but improves on many aspects.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; by the Xtend website
</div>
</div>
<div class="paragraph">
<p>Xtend has lots of useful features compared to Java, and it has fairly good IDE support.
Its advanced <a href="http://www.eclipse.org/xtend/documentation/204_activeannotations.html">compile-time metaprogramming facilities</a> make it the perfect basis of <em>xtend-ioc</em>.<br>
<em>xtend-ioc</em> does not support Java directly, only indirectly via Xtend.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Although this documentation sometimes refers to "Java classes", in most cases this means "Java classes translated from Xtend".<br>
Similarly, "Java objects" mean instances of "Java classes translated from Xtend".
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_inversion_of_control_and_dependency_injection">1.2. Inversion of control and dependency injection</h3>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>In software engineering, inversion of control (IoC) describes a design in which custom-written portions of a computer program receive the flow of control from a generic, reusable library. A software architecture with this design inverts control as compared to traditional procedural programming: in traditional programming, the custom code that expresses the purpose of the program calls into reusable libraries to take care of generic tasks, but with inversion of control, it is the reusable code that calls into the custom, or task-specific, code.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; <a href="https://en.wikipedia.org/wiki/Inversion_of_control">by Wikipedia</a>
</div>
</div>
<div class="paragraph">
<p>In this definition <em>xtend-ioc</em> is the "generic, reusable library" that</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">creates and manages instances of classes</dt>
<dd>
<p>instead of the classes would be instantiated using the <code>new</code> operator in user code,</p>
</dd>
<dt class="hdlist1">injects dependencies into objects</dt>
<dd>
<p>instead of each object would look up them manually, and</p>
</dd>
<dt class="hdlist1">dispatches events between objects</dt>
<dd>
<p>instead of calling methods directly on other objects.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_compile_time_vs_runtime_frameworks">1.3. Compile-time vs runtime frameworks</h3>
<div class="paragraph">
<p><em>xtend-ioc</em> is a purely compile-time IOC framework.<br>
It means that all validation and code generation is performed during the Xtend to Java source code translation phase.<br>
This design decision has major advantages like</p>
</div>
<div class="ulist">
<ul>
<li>
<p>most errors are detected in compile-time</p>
</li>
<li>
<p>the generated Java code is completely static so e.g. <a href="http://gwtproject.org/">GWT</a> is supported</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Although there are disadvantages as well compared to runtime IOC frameworks, for example component lookup using runtime classpath scanning cannot be supported.<br>
Note that a simple compile-time <a href="#component-scan">component scanning</a> is supported.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_status">2. Status</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <em>xtend-ioc</em> project is not released to the public yet.<br>
Although all features and examples presented in this documentation are working (they are indeed unit tests), the framework source code needs some cleanup&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_building_blocks">3. Building blocks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The main building blocks of <em>xtend-ioc</em> are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>component</em> is a definition that specifies how instances of it should be created and managed by <em>module</em>s.</p>
</li>
<li>
<p><em>Component instance</em>s are Java objects, instances of <em>component</em>s.</p>
</li>
<li>
<p>A <em>module</em> is</p>
<div class="ulist">
<ul>
<li>
<p>at compile-time: a definition that specifies the <em>component</em>s contained by it</p>
</li>
<li>
<p>at runtime: manages the life-cycle of <em>component instance</em>s, provides additional services to them, and may provide external access to them.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Let&#8217;s see an example just to taste the syntax:</p>
</div>
<div id="showcase-example-first" class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface HelloService { <i class="conum" data-value="1"></i><b>(1)</b>
	def String sayHello(String name)
}

@Component <i class="conum" data-value="2"></i><b>(2)</b>
class EnglishHelloServiceImpl implements HelloService {
	override sayHello(String name) '''Hello «name»!'''
}

@Component
class HungarianHelloServiceImpl implements HelloService {
	override sayHello(String name) '''Szia «name»!'''
}

@Component
class AnotherComponent {
	@Inject
	public EnglishHelloServiceImpl englishHelloService <i class="conum" data-value="3"></i><b>(3)</b>
}

@Module( <i class="conum" data-value="4"></i><b>(4)</b>
components=#[EnglishHelloServiceImpl, HungarianHelloServiceImpl, AnotherComponent] <i class="conum" data-value="5"></i><b>(5)</b>
)
interface ChattyModule {
	def EnglishHelloServiceImpl englishHelloService() <i class="conum" data-value="6"></i><b>(6)</b>

	def HungarianHelloServiceImpl hungarianHelloService() <i class="conum" data-value="7"></i><b>(7)</b>

	def List&lt;? extends HelloService&gt; helloServices() <i class="conum" data-value="8"></i><b>(8)</b>

	def AnotherComponent anotherComponent()
}

class ChattyModuleTest {
	@Test
	def void test() {
		val module = ChattyModule.Peer.initialize <i class="conum" data-value="9"></i><b>(9)</b>
		assertEquals("Hello Jeff!", module.englishHelloService.sayHello("Jeff")) <i class="conum" data-value="10"></i><b>(10)</b>
		assertEquals("Szia Jeff!", module.hungarianHelloService.sayHello("Jeff")) <i class="conum" data-value="11"></i><b>(11)</b>
		assertEquals(2, module.helloServices.size) <i class="conum" data-value="12"></i><b>(12)</b>
		assertTrue(
			module.englishHelloService ===
			module.anotherComponent.englishHelloService <i class="conum" data-value="13"></i><b>(13)</b>
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define a service interface to "say hello".</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Annotate classes with <code>@Component</code> to turn them to components.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Another component with <code>@Inject</code>-ed depedency</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Annotate an interface with <code>@Module</code> to turn it to a module.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specify the components contained in the module.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Declare a method for accessing the <code>EnglishHelloServiceImpl</code> component.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Declare a method for accessing the <code>HungarianHelloServiceImpl</code> component.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Declare a method for accessing all components implementing <code>HelloService</code></td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Initialize the module, ie. instantiate it.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td>Say hello in English.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td>Say hello in Hungarian.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Count the components implementing <code>HelloService</code> - not surprisingly the result is 2.</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td>By default components are "singletons" which means that all references point to the same component instance.</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_components">3.1. Components</h3>
<div class="paragraph">
<p>There are two ways to define a <em>component</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#component-class">component classes</a> and</p>
</li>
<li>
<p><a href="#component-providers">component providers</a>.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="component-class">3.1.1. @Component / component classes</h4>
<div id="component-class-requirements" class="paragraph">
<p>A Java class is a <em>component class</em> if</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it is annotated with <code>@Component</code> and</p>
</li>
<li>
<p>it has a valid component constructor, that is</p>
<div class="ulist">
<ul>
<li>
<p>either the class has exactly one constructor annotated with <code>@Inject</code></p>
</li>
<li>
<p>or none of its constructors is annotated with <code>@Inject</code> and a no-args constructor exits (even the default constructor or an explicitly defined one).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>When a new instance of a <em>component class</em> is requested then it is instantiated by using its <em>component constructor</em>.</p>
</div>
<div class="paragraph">
<p><em>Component class</em>es may have superclasses. If a <em>component</em>'s superclass is itself a <em>component class</em> then dependency injection is performed as expected.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Components should be focused in functionality.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="component-qualifiers">3.1.2. @Qualifier / qualifiers</h4>
<div class="paragraph">
<p>Programming against interfaces is considered a good practice therefore components should be referenced by interfaces instead of concrete classes.
When multiple <em>component classes</em> implement the same interface, the component classes can be identified by labeling them with <em>qualifiers</em>.</p>
</div>
<div class="paragraph">
<p>A <em>qualifier</em> is an annotation marked with <code>@Qualifier</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Qualifier
annotation English {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let&#8217;s rewrite our <a href="#showcase-example-first">first example</a> using qualifiers and interface references:</p>
</div>
<div id="showcase-example-with-qualifiers" class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface HelloService {
	def String sayHello(String name)
}

@Qualifier
annotation English { <i class="conum" data-value="1"></i><b>(1)</b>
}

@Qualifier
annotation Hungarian { <i class="conum" data-value="2"></i><b>(2)</b>
}

@Component
@English <i class="conum" data-value="3"></i><b>(3)</b>
class EnglishHelloServiceImpl implements HelloService {
	override sayHello(String name) '''Hello «name»!'''
}

@Component
@Hungarian <i class="conum" data-value="4"></i><b>(4)</b>
class HungarianHelloServiceImpl implements HelloService {
	override sayHello(String name) '''Szia «name»!'''
}

@Component
class AnotherComponent {
	@Inject
	@English
	public HelloService englishHelloService <i class="conum" data-value="5"></i><b>(5)</b>
}

@Module(
	components=#[EnglishHelloServiceImpl, HungarianHelloServiceImpl, AnotherComponent]
)
interface ChattyModule {
	@English <i class="conum" data-value="6"></i><b>(6)</b>
	def HelloService englishHelloService()

	@Hungarian <i class="conum" data-value="7"></i><b>(7)</b>
	def HelloService hungarianHelloService()

	def List&lt;? extends HelloService&gt; helloServices()

	def AnotherComponent anotherComponent()
}

class ChattyModuleTest {
	@Test
	def void test() {
		val module = ChattyModule.Peer.initialize
		assertEquals("Hello Jeff!", module.englishHelloService.sayHello("Jeff"))
		assertEquals("Szia Jeff!", module.hungarianHelloService.sayHello("Jeff"))
		assertEquals(2, module.helloServices.size)
		assertTrue(
			module.englishHelloService ===
			module.anotherComponent.englishHelloService
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define qualifier <code>@English</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Define qualifier <code>@Hungarian</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Qualify <code>EnglishHelloServiceImpl</code> with <code>@English</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Qualify <code>HungarianHelloServiceImpl</code> with <code>@Hungarian</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>AnotherComponent</code> depends on a component implementing <code>HelloService</code> and qualified with <code>@English</code> (that will be resolved as <code>EnglishHelloServiceImpl</code>).</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Declare a method for accessing the component implementing <code>HelloService</code> and qualified with <code>@English</code> (that will be resolved as <code>EnglishHelloServiceImpl</code>).</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Declare a method for accessing the component implementing <code>HelloService</code> and qualified with <code>@Hungarian</code> (that will be resolved as <code>HungarianHelloServiceImpl</code>).</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Of course a component may have multiple qualifiers like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Qualifier
annotation ThreadSafe {}

@Qualifier
annotation Production {}

@Component
@ThreadSafe
@Production
class SomeComponent {}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Qualifiers may have attributes of any supported type:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>primitive value</p>
</li>
<li>
<p>String</p>
</li>
<li>
<p>enum</p>
</li>
<li>
<p>class literal</p>
</li>
<li>
<p>annotation (any annotation is supported, even annotations not marked with <code>@Qualifier</code>)</p>
</li>
<li>
<p>array of any of the above types</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Qualifier
annotation Language {
  String value
}

@Component
@Language("english")
class SomeComponent {}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="component-typesignature">3.1.3. Type signature of components</h4>
<div class="paragraph">
<p>Every component has a <em>type signature</em> <code>(cT, cQ)</code> that is composed of</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cT</code>: a Java type and</p>
</li>
<li>
<p><code>cQ</code>: a set of qualifiers.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In case of a <em>component class</em> these are defined as</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cT</code>: if specified explicitly then <code>@Component.type</code> otherwise the Java type of the component class declaration and</p>
</li>
<li>
<p><code>cQ</code>: the set of qualifiers the component class is annotated with.</p>
</li>
</ul>
</div>
<div id="component-reference" class="paragraph">
<p>Components can be referenced by a <em>component reference</em> <code>rT, rQ</code> where</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rT</code>: a Java type</p>
</li>
<li>
<p><code>rQ</code>: a set of qualifiers</p>
</li>
</ul>
</div>
<div id="component-reference-resolution" class="paragraph">
<p>A component with <code>(cT, cQ)</code> type signature satisfies a component reference <code>(rT, rQ)</code> if</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>cT</code> is assignable to <code>rT</code> (using the typing rules of the Java language) and</p>
</li>
<li>
<p>the set <code>cQ</code> contains all elements of set <code>rQ</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The operation of finding all components in a module satisfying a given component reference is called <em>component reference resolution</em>.<br>
<em>Component reference resolution</em> may result in zero or more components.</p>
</div>
<div class="paragraph">
<p>The most common <em>component reference</em> is the <em>injection point</em>: a <em>component reference</em> defined by an Xtend field, method or parameter declaration.</p>
</div>
</div>
<div class="sect3">
<h4 id="__inject_dependency_injection">3.1.4. @Inject / dependency injection</h4>
<div class="paragraph">
<p>The most important feature of <em>xtend-ioc</em> is dependency injection i.e. the process of resolving a <em>component</em>'s references to other <em>component</em>s.<br>
In practice this means the <a href="#component-reference-resolution">resolution</a> of <em>injection point</em>s.</p>
</div>
<div class="paragraph">
<p>There are two types of <em>injection point</em>s in <em>component</em>s:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Field: the <em>component reference</em> is defined by a field declaration of the <em>component class</em></p>
</li>
<li>
<p>Constructor: the <em>component reference</em>s are defined by the parameter declarations of a <em>component constructor</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Different types of <em>injection point</em>s canbe mixed in the same <em>component</em>.</p>
</div>
<div class="paragraph">
<p>In case of <em>optional</em> dependencies the <em>injection point</em> should be annotated with <code>@NotRequired</code>. If the <em>component reference</em> cannot be resolved then <code>null</code> is injected.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To ensure null-safety it is recommended to use <a href="#indirect-component-references">indirect component references</a> instead of directly injected <em>component instance</em>s.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_field_injection">Field injection</h5>
<div class="paragraph">
<p>Injected fields are marked with <code>@Inject</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class SomeComponent {
  @Inject
  ReferenceToAnotherComponent anotherComponent
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Component reference resolution is performed using</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rT</code> = type of the field declaration</p>
</li>
<li>
<p><code>rQ</code> = qualifiers the field is annotated with</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_constructor_injection">Constructor injection</h5>
<div class="paragraph">
<p>Injected constructors are marked with <code>@Inject</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class SomeComponent {
  @Inject
  new(AnotherComponent anotherComponent) {}
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Component reference resolution is performed for each constructor parameter with</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>rT</code> = type of the parameter declaration</p>
</li>
<li>
<p><code>rQ</code> = qualifiers the parameter is annotated with</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="indirect-component-references">Indirect component references</h5>
<div class="paragraph">
<p>Indirect <em>component reference</em>s are useful if</p>
</div>
<div class="ulist">
<ul>
<li>
<p>more than one instance of the <em>component</em> is required (this is useful for <a href="#component-scope-prototype">prototype scoped components</a>)</p>
</li>
<li>
<p>instantiation of the referenced <em>component</em> should be delayed for some reason</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Indirect <em>component reference</em>s are supported by injecting a <em>component supplier</em>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface Handler&lt;T&gt; {}

@Component
class AnotherComponent {
}

@Component
class TestComponent {
	@Inject <i class="conum" data-value="1"></i><b>(1)</b>
	public Supplier&lt;AnotherComponent&gt; componentSupplier

	@Inject
	public AnotherComponent injectedComponent
}

@Module(components=#[AnotherComponent, TestComponent])
interface TestModule {
	def TestComponent testComponent()
}

class Example {
	@Test
	def void test()	{
		val module = TestModule.Peer.initialize
		val testComponent = module.testComponent
		assertTrue( <i class="conum" data-value="2"></i><b>(2)</b>
			testComponent.injectedComponent == testComponent.componentSupplier.get
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inject supplier.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The directly injected and the indirectly supplied component instances are the same because <code>AnotherComponent</code> is <a href="#component-scope-singleton">singleton</a>.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently only <code>com.google.common.base.Supplier</code> is supported as <em>component supplier</em> but there are plans to support others (eg. <code>java.util.function.Supplier</code>).
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Indirect <em>component reference</em>s are supported by annotating the <em>injection point</em> with <code>@NotRequired</code>. In this case the supplier returns <code>null</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_references_to_multiple_components">References to multiple components</h5>
<div class="paragraph">
<p>When a <a href="#component-reference">component reference</a> is <a href="#component-reference-resolution">resolved</a> to multiple <em>component</em>s they can be injected as type <code>List</code> or <code>Iterable</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface Handler {
}

@Component
class IntegerHandler implements Handler {
}

@Component
class DoubleHandler implements Handler {
}

@Component
class TestComponent {
	@Inject
	public List&lt;? extends Handler&gt; handlers <i class="conum" data-value="1"></i><b>(1)</b>
	@Inject
	public Iterable&lt;Handler&gt; handlers2 <i class="conum" data-value="2"></i><b>(2)</b>
}

@Module(components=#[IntegerHandler, DoubleHandler, TestComponent])
interface TestModule {
	def IntegerHandler integerHandler()

	def DoubleHandler doubleHandler()

	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		assertEquals(
			#{module.doubleHandler, module.integerHandler},
			module.testComponent.handlers.toSet
		)
		assertEquals(
			module.testComponent.handlers,
			module.testComponent.handlers2
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Inject list of <em>component reference</em>s by type <code>List&lt;? extends Handler&gt;</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Inject list of <em>component reference</em>s by type <code>Iterable&lt;Handler&gt;</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Of course the <em>component reference</em> can be injected as a <code>List</code> even if it is <em>resolved</em> to only one <em>component instance</em>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If no <em>component</em>s are compatible with the <em>component reference</em> then an empty <code>List</code> would be injected.<br>
This is valid only if <em>injection point</em> is annotated with <code>@Optional</code> otherwise a compilation error is raised.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_generic_component_references">Generic component references</h5>
<div class="paragraph">
<p>Generic components can be referenced as expected:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface Handler&lt;T&gt; {
}

@Component
class IntegerHandler implements Handler&lt;Integer&gt; {
}

@Component
class DoubleHandler implements Handler&lt;Double&gt; {
}

@Component
class TestComponent {
	@Inject
	public Handler&lt;Integer&gt; integerHandler

	@Inject
	public List&lt;Handler&lt;? extends Number&gt;&gt; numberHandlers <i class="conum" data-value="1"></i><b>(1)</b>
}

@Module(components=#[IntegerHandler, DoubleHandler, TestComponent])
interface TestModule {
	def IntegerHandler integerHandler()

	def DoubleHandler doubleHandler()

	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		assertTrue(module.integerHandler == module.testComponent.integerHandler)
		assertTrue(
			#{module.doubleHandler, module.integerHandler} == module.testComponent.numberHandlers.toSet
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Both <code>List&lt;Handler&lt;? extends Number&gt;&gt;</code> and <code>List&lt;? extends Handler&lt;? extends Number&gt;&gt;</code> are valid. <code>Iterable</code> could be used as well instead of <code>List</code>.<br>
But <code>List&lt;Handler&lt;Number&gt;&gt;</code> would not be valid because there is no component implementing <code>Handler&lt;Number&gt;</code> (note that because of Java typing rules, <code>Handler&lt;Integer&gt;</code> is not assignable to <code>Handler&lt;Number&gt;</code>, only to <code>Handler&lt;? extends Number&gt;</code>).</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="component-scope">3.1.5. @Scope / component scope</h4>
<div class="paragraph">
<p>By default every component has only one instance. When the <em>component</em> is <a href="#component-reference">referenced</a> multiple times the same instance is returned always.<br>
This behaviour is defined by the <em>scope</em> of the <em>component</em> which defines whether a new instance of the <em>component</em> should be created or an existing instance should be used when the <em>component</em> is referenced.<br>
The built-in scopes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>singleton</em> and</p>
</li>
<li>
<p><em>prototype</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <em>scope</em> of a <em>component</em> can be specified by the <em>scope annotation</em>.<br>
If a <em>component</em> does not have an explicit <em>scope annotation</em> then its scope will be the default <a href="#component-scope-singleton">singleton scope</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Custom scopes can be added by implementing a <code>ScopeManager</code>.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="component-scope-singleton">@Singleton / singleton scope</h5>
<div class="paragraph">
<p><em>Components</em> with <em>singleton scope</em> have never more than one instance.<br>
Multiple references to the same <em>component</em> are <a href="#component-reference-resolution">resolved</a> to the same component instance.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component <i class="conum" data-value="1"></i><b>(1)</b>
class TestComponent {
}

@Module(components=TestComponent)
interface TestModule {
	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		val testComponent1 = module.testComponent
		val testComponent2 = module.testComponent
		assertTrue( <i class="conum" data-value="2"></i><b>(2)</b>
			testComponent1 == testComponent2
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define <em>singleton</em> <em>component</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>All references to the <em>component</em> returns the same <em>component instance</em>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This is the default <em>scope</em> so usually no <em>scope annotation</em> is specified on <em>singleton</em> components.<br>
(So although there there is a <em>scope annotation</em> <code>@Singleton</code>, it is rarely used.)</p>
</div>
</div>
<div class="sect4">
<h5 id="component-scope-prototype">@Prototype / prototype scope</h5>
<div class="paragraph">
<p><em>Components</em> annotated with <code>@Prototype</code> have <em>prototype scope</em>.<br>
Each reference to a <em>prototype</em> scoped <em>component</em> <a href="#component-reference-resolution">resolves</a> to a new instance of the <em>component</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
@Prototype <i class="conum" data-value="1"></i><b>(1)</b>
class TestComponent {
}

@Module(components=TestComponent)
interface TestModule {
	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		val testComponent1 = module.testComponent
		val testComponent2 = module.testComponent
		assertTrue( <i class="conum" data-value="2"></i><b>(2)</b>
			testComponent1 != testComponent2
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define <em>prototype</em> <em>component</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Each references to the <em>component</em> returns a new <em>component instance</em>.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="component-lifecycle-annotations">3.1.6. @PostConstruct and @PreDestroy / lifecycle callbacks</h4>
<div class="paragraph">
<p>Methods in <em>component class</em>es are <em>lifecycle callbacks</em> if they are annotated with <em>lifecycle annotations</em>:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Lifecycle annotation</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@PostConstruct</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The method is called after the given <em>component instance</em> is created and its dependencies are injected.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@PreDestroy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The method is called when the given <em>component instance</em> is in the process of being disposed.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>@PreDestroy</code> <em>lifecycle annotation</em> is not supported by all <em>scope</em>s.<br>
For example the <em>singleton scope</em> supports it but the <em>prototype scope</em> does not.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>@PreDestroy</code> methods are called by the <em>scope manager</em> before the <em>component instance</em> is being disposed.<br>
In case of <em>singleton</em> <em>components</em> this happens only when their <em>module</em> is <a href="#module-close">closed</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component <i class="conum" data-value="1"></i><b>(1)</b>
class TestComponent {
	@Accessors(PUBLIC_GETTER)
	static String status = "uninitialized" <i class="conum" data-value="2"></i><b>(2)</b>

	@PostConstruct <i class="conum" data-value="3"></i><b>(3)</b>
	def void initialize() {
		status = "initialized"
	}

	@PreDestroy <i class="conum" data-value="4"></i><b>(4)</b>
	def void close() {
		status = "closed"
	}
}

@Module(components=TestComponent)
interface TestModule {
	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize <i class="conum" data-value="5"></i><b>(5)</b>
		assertEquals("uninitialized", TestComponent.status) <i class="conum" data-value="6"></i><b>(6)</b>
		module.testComponent <i class="conum" data-value="7"></i><b>(7)</b>
		assertEquals("initialized", TestComponent.status)
		module.close <i class="conum" data-value="8"></i><b>(8)</b>
		assertEquals("closed", TestComponent.status)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare <code>TestComponent</code> of <em>scope</em> <em>singleton</em>.<br>
(Adding <code>@Prototype</code> to this class would result in a compile-time error because the <em>prototype scope</em> does not support <code>@PreDestroy</code> methods.)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Declare static status field (the unit test will use it).</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Declare <code>@PostConstruct</code> callback method.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Declare <code>@PreDestroy</code> callback method.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Initialize module.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The <em>component</em> is not initialized yet (because it is not <a href="#component-eager">eager</a>).</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>The <em>component</em> is intialized when first referenced (i.e. after the single instance of it is created), <code>@PostConstruct</code> callbacks are called in this phase.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>The <em>component</em> is unintialized when the <em>module</em> is closed, <code>@PreDestroy</code> callbacks are called in this phase.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="component-eager">3.1.7. @Eager / eager components</h4>
<div class="paragraph">
<p>By default <em>component</em>s are instantiated only when they are first referenced.<br>
To force the eager instantiation of a <em>component</em> it should be annotated with <code>@Eager</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component <i class="conum" data-value="1"></i><b>(1)</b>
class LazyComponent {
	@Accessors(PUBLIC_GETTER)
	static String status = "uninitialized"

	@PostConstruct
	def void initialize() {
		status = "initialized"
	}
}

@Component
@Eager <i class="conum" data-value="2"></i><b>(2)</b>
class EagerComponent {
	@Accessors(PUBLIC_GETTER)
	static String status = "uninitialized"

	@PostConstruct
	def void initialize() {
		status = "initialized"
	}
}

@Module(components=#[LazyComponent, EagerComponent])
interface TestModule {
	def LazyComponent lazyComponent()

	def EagerComponent eagerComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		assertEquals( <i class="conum" data-value="3"></i><b>(3)</b>
			"uninitialized",
			LazyComponent.status
		)
		assertEquals( <i class="conum" data-value="4"></i><b>(4)</b>
			"initialized",
			EagerComponent.status
		)
		module.lazyComponent <i class="conum" data-value="5"></i><b>(5)</b>
		assertEquals( <i class="conum" data-value="6"></i><b>(6)</b>
			"initialized",
			LazyComponent.status
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><em>Component</em>s are lazy by default.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Define <em>eager</em> component.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <em>lazy</em> <em>component</em> is not instantiated when the <em>module</em> is created.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <em>eager</em> <em>component</em> is instantiated right after the <em>module</em> is created.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Force instantiation of the <em>lazy</em> <em>component</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>The <em>lazy</em> <em>component instance</em> is now initialized.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>@Eager</code> is usually used on <em>singleton</em> <em>component</em>s.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The intended initialization order of eager components can be specified by <code>@Priority</code>.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a <em>prototype scope</em>d <em>component</em> is marked as <code>@Eager</code> then right after the <em>component instance</em> is created, it is immediately dereferenced by the <em>module instance</em>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="component-providers">3.1.8. @Provider / components instantiated by user code</h4>
<div class="paragraph">
<p>There are cases when we would like to use instances of a Java class as components but the class does not comply with the <a href="#component-class-requirements">requirements of component classes</a>.<br>
In most cases it is possible to create a subclass with a valid component constructor but usually it is not practical.
Besides if the class is final - like <code>String</code> (yes, any Java object can be a component, even a string) - then there is no way to turn it into a component class.</p>
</div>
<div class="paragraph">
<p>To overcome these limitations, component classes can provide other component instances by <em>provider method</em>s.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<em>Provider method</em>s must have an explicit return type, type inference is not supported.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="_simple_component_providers">Simple component providers</h5>
<div class="paragraph">
<p>Simple component providers are no-args instance methods defined in normal components and annotated with <code>@Provider</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">class ProvidedComponent { <i class="conum" data-value="1"></i><b>(1)</b>
}

@Component
class MainComponent {
  @Provider
  def ProvidedComponent provider() {
    new ProvidedComponent() <i class="conum" data-value="2"></i><b>(2)</b>
  }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The provided component&#8217;s class is not annotated with <code>@Component</code>, it&#8217;s a simple POJO.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create a new instance of the provided component using the <code>new</code> operator.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Altough in this case the <em>provided</em> component is instantiated directly using the <code>new</code> operator, its lifecycle is managed by the module, and similar rules apply to them as to normal components:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they can have <a href="#component-qualifiers">qualifiers</a> (declared on the <em>provider method</em>)</p>
</li>
<li>
<p>they are <a href="#component-scope-singleton">singleton</a> by default but can have a <a href="#component-scope">custom scope</a> (declared on the <em>provider method</em>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are important differences as well:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <em>provided component</em>'s <a href="#component-typesignature">type signature</a> is composed of</p>
<div class="ulist">
<ul>
<li>
<p>the return type of the <em>provider method</em> and</p>
</li>
<li>
<p>the qualifiers statically declared on the <em>provider method</em> and the parameterized qualifiers supported by the <em>provider method</em> (see <a href="#parameterized-component-providers">Parameterized component providers</a>).</p>
</li>
</ul>
</div>
</li>
<li>
<p><a href="#component-lifecycle-annotations">lifecycle annotations</a> are not supported.</p>
</li>
<li>
<p>They usually don&#8217;t have <code>@Inject</code>-ed dependencies but use the injected dependencies of the enclosing component.<br>
(They may have injected dependencies like <a href="#dependency-injection-for-non-components">any POJOs</a> but the resulting code is more readable if the dependecies are passed explicitly to the constructor of the implementing class.)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="parameterized-component-providers">Parameterized component providers</h5>
<div class="paragraph">
<p>Parameterized component providers are very similar to <a href="#component-providers">simple component providers</a>, the only difference is that they can provide <em>component instance</em>s for multiple <em>qualifier</em>s.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<em>Parameterized component providers</em> is an experimental feature, use it at your own risk.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As all features of <em>xtend-ioc</em>, <em>parameterized component providers</em> is a compile-time feature.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Qualifier <i class="conum" data-value="1"></i><b>(1)</b>
annotation ConfigurationValue {
	String value
}

@Component
class ProviderComponent {
	Properties configuration

	@PostConstruct
	def void initialize() {
		// In a real provider the configuration would be loaded from a file
		configuration = new Properties
		configuration.setProperty("a", "A")
		configuration.setProperty("b", "B")
	}

	@Provider( <i class="conum" data-value="2"></i><b>(2)</b>
	parameterizedQualifiers=@ParameterizedQualifier(qualifier=ConfigurationValue, <i class="conum" data-value="3"></i><b>(3)</b>
	attributeName="value", <i class="conum" data-value="4"></i><b>(4)</b>
	parameterName="configurationName" <i class="conum" data-value="5"></i><b>(5)</b>
	))
	def String configurationValueProvider(String configurationName) {
		return configuration.getProperty(configurationName)
	}
}

@Component <i class="conum" data-value="6"></i><b>(6)</b>
class TestComponent {
	@Inject
	@ConfigurationValue("a")
	public String a

	@Inject
	@ConfigurationValue("b")
	public String b
}

@Module(components=#[ProviderComponent, TestComponent])
interface TestModule {
	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		val testComponent = module.testComponent
		assertEquals("A", testComponent.a) <i class="conum" data-value="7"></i><b>(7)</b>
		assertEquals("B", testComponent.b)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare qualifier annotation with attributes.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Declare parameterized provider.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Specify the qualifier annotation supported by the provider.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Specify the annotation attribute name.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specify the method parameter name the annotation attribute value is mapped to.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Declare component with injected fields.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Test injected values.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_modules">3.2. Modules</h3>
<div class="sect3">
<h4 id="__module_defining_modules">3.2.1. @Module / defining modules</h4>
<div class="paragraph">
<p>A <em>module</em> is defined by a Java interface annotated with <code>@Module</code>.<br>
The <code>@Module</code> annotation defines the <em>component class</em>es managed by the module</p>
</div>
<div class="ulist">
<ul>
<li>
<p>explicitly by listing the <em>component class</em>es using the <code>components</code> attribute and/or</p>
</li>
<li>
<p>implicitly by specifying the attribute <code>componentScanClasses</code> and/or <code>componentImporters</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Component importers specify the <em>component</em>s to be imported by using <code>@ImportComponents</code>.</p>
</div>
<div id="component-scan" class="paragraph">
<p>Component scan attempts to find <em>component</em>s recursively in the package of each listed class.</p>
</div>
<div class="paragraph">
<p>Component scan example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface SomeInterface {
}

@Component
class Component1 implements SomeInterface {
}

@Component
class Component2 implements SomeInterface {
}

@Module(componentScanClasses=TestModule) <i class="conum" data-value="1"></i><b>(1)</b>
interface TestModule {
	def List&lt;SomeInterface&gt; instances()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		assertEquals(2, module.instances.size) <i class="conum" data-value="2"></i><b>(2)</b>
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Define component scan root packages.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Both <code>Component1</code> and <code>Component2</code> is found by component scanning.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Component scan is an experimental feature, use it at your own risk.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_module_inheritance">3.2.2. Module inheritance</h4>
<div class="paragraph">
<p>A <em>module</em> can inherit other <em>module</em>s by extending the their interface.<br>
When module <code>M1</code> inherits module <code>M2</code> then all components contained by <code>M2</code> will be managed by <code>M1</code> as well. This rule is recursive.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class TestComponent {
}

@Module(components=TestComponent)
interface ParentModule {
	def TestComponent testComponent()
}

@Module <i class="conum" data-value="1"></i><b>(1)</b>
interface TestModule extends ParentModule {
}

class Example {
	@Test
	def void test() {
		assertNotNull( <i class="conum" data-value="2"></i><b>(2)</b>
			TestModule.Peer.initialize.testComponent
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>TestModule</code> inherits <code>ParentModule</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The inherited <em>component</em> is available in <code>TestModule</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_module_lifecycle_singleton_modules">3.2.3. Module lifecycle / Singleton modules</h4>
<div class="paragraph">
<p>A <em>module</em> must be instantiated before it can be used. Only <em>non-abstract</em> modules can be instantiated.<br></p>
</div>
<div class="paragraph">
<p>There are two types of modules specified by <code>@Module.singleton</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Singleton: the <em>module</em> has exactly one instance.<br>
This singleton instance of the module <code>ModuleInterface</code> can be instantiated by calling <code>ModuleInterface.Peer.initialize()</code>.<br>
The singleton instance is available by calling <code>ModuleInterface.Peer.get()</code>.</p>
</li>
<li>
<p>Non-singleton: the module may have multiple instances, a new instance of the module <code>ModuleInterface</code> can be created by calling <code>ModuleInterface.Peer.constructInstance()</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In case of inheritance of singleton modules all modules in the inheritance chain share the same module instance:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class TestComponent {
}

@Module(components=TestComponent)
interface ParentModule {
	def TestComponent testComponent()
}

@Module <i class="conum" data-value="1"></i><b>(1)</b>
interface TestModule extends ParentModule {
}

class Example {
	@Test
	def void test() {
		TestModule.Peer.initialize <i class="conum" data-value="2"></i><b>(2)</b>
		assertTrue(TestModule.Peer.get === ParentModule.Peer.get) <i class="conum" data-value="3"></i><b>(3)</b>
		assertTrue( <i class="conum" data-value="4"></i><b>(4)</b>
			TestModule.Peer.get.testComponent ===
			ParentModule.Peer.get.testComponent
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>TestModule</code> inherits <code>ParentModule</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Initialize <code>TestModule</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Both <code>TestModule</code> and <code>ParentModule</code> share the same runtime instance.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>TestComponent</code> is available from both <em>module</em> instances.</td>
</tr>
</table>
</div>
<div id="module-close" class="paragraph">
<p>When the <em>module instance</em> is not needed anymore (e.g. on application shutdown) it should be closed by calling <code>ModuleInterface.Peer.close()</code>.<br>
During the close operation <a href="#component-lifecycle-annotations">predestroy methods</a> are called on the corresponding <em>component instance</em>s.</p>
</div>
</div>
<div class="sect3">
<h4 id="module-abstract">3.2.4. Abstract and non-abstract modules</h4>
<div class="paragraph">
<p>All <em>module</em> is <em>non-abstract</em> by default that is all <em>component references</em>s must be <a href="#component-reference-resolution">resolvable</a>, otherwise a compilation error is raised.</p>
</div>
<div class="paragraph">
<p>If it is known that not all <em>component references</em>s are available (on purpose) then the <em>module</em> must be explicitly marked as <em>abstract</em> by specifying the <code>@Module(isAbstract=true)</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface SomeService {
}

@Component
class TestComponent {
	@Inject
	public SomeService someService
}

@Module(components=TestComponent, isAbstract=true) <i class="conum" data-value="1"></i><b>(1)</b>
interface ParentModule {
	def TestComponent testComponent()
}

@Component
class SomeServiceComponent implements SomeService {
}

@Module(components=SomeServiceComponent)
interface TestModule extends ParentModule {
	def SomeService someService()
}

class Example {
	@Test
	def void test() {
		// Compile-time error: ParentModule.Peer.initialize() <i class="conum" data-value="2"></i><b>(2)</b>
		val module = TestModule.Peer.initialize
		assertTrue(TestModule.Peer.get === ParentModule.Peer.get) <i class="conum" data-value="3"></i><b>(3)</b>
		assertTrue(module.testComponent.someService === module.someService) <i class="conum" data-value="4"></i><b>(4)</b>
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>ParentModule</code> is declared as <em>abstract</em> because the <code>TestComponent.someService</code> <em>component reference</em> is not resolvable.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>ParentModule</code> is <em>abstract</em> therefore no <code>initialize()</code> method is available on it.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Both <code>TestModule</code> and <code>ParentModule</code> share the same runtime instance. There is no  difference compared to <em>non-abstract</em> <em>module</em>s.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Dependency injection works between <em>module</em>s as expected.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="module-level-component-references">3.2.5. Module-level component references</h4>
<div class="paragraph">
<p><em>Module</em> interfaces may declare <a href="#component-reference">component references</a>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>rT: the return type of the method declaration</p>
</li>
<li>
<p>rQ: the qualifiers the method declaration is annotated with</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These methods can be called on the <em>module</em> instance from "external" code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">interface SomeInterface {
}

@Component
class TestComponent implements SomeInterface {
}

@Module(components=TestComponent)
interface TestModule { <i class="conum" data-value="1"></i><b>(1)</b>
	def TestComponent testComponent()

	def SomeInterface someInterface()

	def Supplier&lt;SomeInterface&gt; someInterfaceSupplier()
}

class Example {
	@Test
	def void test() { <i class="conum" data-value="2"></i><b>(2)</b>
		val module = TestModule.Peer.initialize
		assertTrue(module.testComponent === module.someInterface)
		assertTrue(module.testComponent === module.someInterfaceSupplier.get)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare <em>module</em> with module-level <em>component reference</em>s.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>All declared <em>component reference</em>s refer to the same <em>singleton</em> <code>TestComponent</code> instance.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_the_relation_of_modules_and_component_classes">3.2.6. The relation of modules and component classes</h4>
<div class="paragraph">
<p>The same <em>component class</em> can be contained by multiple <em>module</em>s.<br>
In this case component dependency resolutions happens independently in each module, so it is possible that a <em>component reference</em> is resolved to different <em>component instance</em>s.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component <i class="conum" data-value="1"></i><b>(1)</b>
class TestComponent {
	@Inject
	public String value
}

@Component
class Provider1 {
	@Provider <i class="conum" data-value="2"></i><b>(2)</b>
	def String provider() '''1'''
}

@Component
class Provider2 {
	@Provider <i class="conum" data-value="3"></i><b>(3)</b>
	def String provider() '''2'''
}

@Module(components=#[TestComponent, Provider1]) <i class="conum" data-value="4"></i><b>(4)</b>
interface TestModule1 {
	def TestComponent testComponent()
}

@Module(components=#[TestComponent, Provider2]) <i class="conum" data-value="5"></i><b>(5)</b>
interface TestModule2 {
	def TestComponent testComponent()
}

class Example {
	@Test
	def void test() {
		val module1 = TestModule1.Peer.initialize
		val module2 = TestModule2.Peer.initialize
		val testComponent1 = module1.testComponent
		val testComponent2 = module2.testComponent
		assertEquals( <i class="conum" data-value="6"></i><b>(6)</b>
			"1", testComponent1.value
		)
		assertEquals( <i class="conum" data-value="7"></i><b>(7)</b>
			"2", testComponent2.value
		)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare <em>component</em> <code>TestComponent</code> with injected dependency.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Declare <em>component provider</em> <code>Provider1</code> with value <code>"1"</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Declare <em>component provider</em> <code>Provider2</code> with value <code>"2"</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><code>TestModule1</code> contains <code>TestComponent</code> and <code>Provider1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><code>TestModule2</code> contains <code>TestComponent</code> and <code>Provider2</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><code>TestComponent&#8217;s dependency is resolved using `Provider1</code> in <code>TestModule1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>TestComponent&#8217;s dependency is resolved using `Provider2</code> in <code>TestModule2</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Because each <em>module</em> may have only one instance, inheritance is not supported with a common parent <em>module</em>.<br>
I.e. if both <code>TestModule1</code> and <code>TestModule2</code> would inherit from the same parent <em>module</em>, only <code>module1</code> could be initialized, the initialization of <code>module2</code> would fail.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="component-dependency-graph">3.2.7. The component dependency graph</h4>
<div class="paragraph">
<p>Each non-abstract <em>module</em> defines a <em>dependency graph</em> between <em>component</em>s: it is a <a href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">directed acyclic graph (DAG)</a> where each node <code>Cn</code> is a <em>component</em> and each directed edge <code>C1</code>&#8594;`C2` corresponds to a direct <em>component reference</em> declared in <code>C1</code> and <a href="#component-reference-resolution">resolved</a> as <code>C2</code>.
Note that indirect component references (by <code>Supplier</code> or <code>Optional</code>) are not present in the <em>dependency graph</em>.</p>
</div>
<div class="paragraph">
<p>If the <em>dependency graph</em> would not be a DAG i.e. it contains a <a href="https://en.wikipedia.org/wiki/Cycle_graph#Directed_cycle_graph">directed cycle</a> then a compile-time error is raised.</p>
</div>
<div class="paragraph">
<p>The following example does not compile, there are two compile-time errors:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Error message #1:
Component reference cycle detected: Component1 &#8594; Component4 &#8594; Component3 &#8594; Component1 [E004]</p>
</li>
<li>
<p>Error message #2:
Component reference cycle detected: Component1 &#8594; Component4 &#8594; Component3 &#8594; Component2 &#8594; Component1 [E004]</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class Component1 {
	@Inject <i class="conum" data-value="1"></i><b>(1)</b>
	Component4 component4

	def boolean someBusinessMethod() {
		component4.anotherBusinessMethod
	}
}

@Component
class Component2 {
	@Inject
	public Component1 component1
}

@Component
class Component3 {
	@Inject
	public Component1 component1

	@Inject
	public Component2 component2
}

@Component
class Component4 {
	@Inject
	public Component3 component3

	def anotherBusinessMethod() {
		true
	}
}

@Module(components=#[Component1, Component2, Component3, Component4])
interface TestModule
{
	def Component1 component1()
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Injecting <code>Component4</code> directly causes compile-time errors.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The cycle can be avoided by referencing one of the affected components indirectly using a <code>Supplier</code>:</p>
</div>
<div id="component-dependency-graph-example-cycle-avoided" class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class Component1 {
	// Direct injection is not allowed because it would cause two cycles in the dependency graph.
	// @Inject
	// Component4 component4

	@Inject <i class="conum" data-value="1"></i><b>(1)</b>
	Supplier&lt;Component4&gt; component4Supplier

	def boolean someBusinessMethod() {
		!component4Supplier.get.anotherBusinessMethod <i class="conum" data-value="2"></i><b>(2)</b>
	}
}

@Component
class Component2 {
	@Inject
	public Component1 component1
}

@Component
class Component3 {
	@Inject
	public Component1 component1

	@Inject
	public Component2 component2
}

@Component
class Component4 {
	@Inject
	public Component3 component3

	def anotherBusinessMethod() {
		true
	}
}

@Module(components=#[Component1, Component2, Component3, Component4])
interface TestModule
{
	def Component1 component1()
}

class AvoidDependencyGraphCycleTest {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize
		assertFalse(module.component1.someBusinessMethod)
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Injection is done indirectly by <code>Supplier&lt;Component4&gt;</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The component instance is referenced indirectly using <code>Supplier.get()</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<a href="#component-providers">Component providers</a> reference their enclosing component directly.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_module_report">3.2.8. Module report</h4>
<div class="paragraph">
<p>If the <em>module</em> <code>ModuleName</code> is compiled without errors, two additional files are generated next to the module interface declaration:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModuleName.dot</code>: the <em>dependency graph</em> in GraphViz format</p>
</li>
<li>
<p><code>ModuleName.html</code>: a HTML report that contains some information about the <em>module</em> like module properties, declared <em>component</em>s, the <em>dependency graph</em>, etc.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>E.g. the <a href="#component-dependency-graph-example-cycle-avoided">example above</a> has the following graph:</p>
</div>
<svg xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" viewBox="0.00 0.00 209.20 260.00" height="260pt" width="209pt">
<g transform="scale(1 1) rotate(0) translate(4 256)" class="graph" id="graph0">
<title>G</title>
<polygon points="-4,4 -4,-256 205.205,-256 205.205,4 -4,4" stroke="none" fill="white"></polygon>
<!-- 1 -->
<g class="node" id="node1"><title>1</title>
<ellipse ry="18" rx="74.7049" cy="-18" cx="74.6024" stroke="black" fill="none"></ellipse>
<text font-size="14.00" font-family="Times,serif" y="-13.8" x="74.6024" text-anchor="middle">Component1 [1]</text>
</g>
<!-- 2 -->
<g class="node" id="node2"><title>2</title>
<ellipse ry="18" rx="74.7049" cy="-90" cx="126.602" stroke="black" fill="none"></ellipse>
<text font-size="14.00" font-family="Times,serif" y="-85.8" x="126.602" text-anchor="middle">Component2 [2]</text>
</g>
<!-- 2&#45;&gt;1 -->
<g class="edge" id="edge1"><title>2-&gt;1</title>
<path d="M114.015,-72.055C107.755,-63.6287 100.067,-53.2798 93.1488,-43.9663" stroke="black" fill="none"></path>
<polygon points="95.8471,-41.7293 87.0742,-35.789 90.2279,-45.9036 95.8471,-41.7293" stroke="black" fill="black"></polygon>
</g>
<!-- 3 -->
<g class="node" id="node3"><title>3</title>
<ellipse ry="18" rx="74.7049" cy="-162" cx="74.6024" stroke="black" fill="none"></ellipse>
<text font-size="14.00" font-family="Times,serif" y="-157.8" x="74.6024" text-anchor="middle">Component3 [3]</text>
</g>
<!-- 3&#45;&gt;1 -->
<g class="edge" id="edge2"><title>3-&gt;1</title>
<path d="M61.0381,-143.972C54.0443,-134.09 46.2356,-121.047 42.6024,-108 38.3101,-92.5865 38.3101,-87.4135 42.6024,-72 45.2705,-62.4189 50.1905,-52.8397 55.3859,-44.5128" stroke="black" fill="none"></path>
<polygon points="58.407,-46.2908 61.0381,-36.0279 52.5812,-42.41 58.407,-46.2908" stroke="black" fill="black"></polygon>
</g>
<!-- 3&#45;&gt;2 -->
<g class="edge" id="edge3"><title>3-&gt;2</title>
<path d="M87.1901,-144.055C93.4496,-135.629 101.137,-125.28 108.056,-115.966" stroke="black" fill="none"></path>
<polygon points="110.977,-117.904 114.131,-107.789 105.358,-113.729 110.977,-117.904" stroke="black" fill="black"></polygon>
</g>
<!-- 4 -->
<g class="node" id="node4"><title>4</title>
<ellipse ry="18" rx="74.7049" cy="-234" cx="74.6024" stroke="black" fill="none"></ellipse>
<text font-size="14.00" font-family="Times,serif" y="-229.8" x="74.6024" text-anchor="middle">Component4 [4]</text>
</g>
<!-- 4&#45;&gt;3 -->
<g class="edge" id="edge4"><title>4-&gt;3</title>
<path d="M74.6024,-215.697C74.6024,-207.983 74.6024,-198.712 74.6024,-190.112" stroke="black" fill="none"></path>
<polygon points="78.1025,-190.104 74.6024,-180.104 71.1025,-190.104 78.1025,-190.104" stroke="black" fill="black"></polygon>
</g>
</g>
</svg>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The module report is a work in progress.<br>
Currently graph rendering is very slow (done with <a href="https://github.com/mdaines/viz.js/">viz.js</a>).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_gwt_support">3.2.9. GWT support</h4>
<div class="paragraph">
<p>If the <em>module</em> <code>ModuleInterface</code> is annotated with <code>@GwtEntryPoint</code> then a special class named <code>ModuleInterfaceEntryPoint</code> is generated.<br>
This class implements <code>com.google.gwt.core.client.EntryPoint</code> and the implementation instantiates the module.<br>
<em>Component</em>s with post-construct methods may be used to implement bootstrap code like UI construction.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_module_local_event_dispatching">3.3. Module-local event dispatching</h3>
<div class="paragraph">
<p>Events allow simple communication between <em>component instance</em>s in a <em>module</em> instance:</p>
</div>
<div class="paragraph">
<p>Event classes are simple POJOs.</p>
</div>
<div class="paragraph">
<p>Events can be fired by invoking the <code>fire()</code> method of a special built-in component type <code>Event&lt;EventClass&gt;</code> that can be injected as usual.</p>
</div>
<div class="paragraph">
<p>Events can be observed by declaring instance methods in <em>component</em>s annotated with <code>@EventObserver</code>.<br>
The observed event type can be specified implicitly by a method parameter or explicitly by <code>@EventObserver.type</code> (in the latter case the event object is not available in the method).</p>
</div>
<div class="paragraph">
<p>An observer method receives all subtypes of its declared event type by default.
This can be changed by specifying the annotation attribute <code>rejectSubtypes=true</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Data <i class="conum" data-value="1"></i><b>(1)</b>
class MessageEvent {
	String message
}

@Component
@Eager
@Priority(1) <i class="conum" data-value="2"></i><b>(2)</b>
class EventSourceComponent {
	@Inject
	Event&lt;MessageEvent&gt; event <i class="conum" data-value="3"></i><b>(3)</b>

	@PostConstruct
	def void componentInitialized() {
		fireEvent("C") <i class="conum" data-value="4"></i><b>(4)</b>
	}

	@EventObserver(eventType=ModuleInitializedEvent) <i class="conum" data-value="5"></i><b>(5)</b>
	def void moduleInitialize() {
		fireEvent("M") <i class="conum" data-value="6"></i><b>(6)</b>
	}

	def void fireEvent(String message) {
		event.fire(new MessageEvent(message)) <i class="conum" data-value="7"></i><b>(7)</b>
	}
}

@Component
@Eager
@Priority(0) <i class="conum" data-value="8"></i><b>(8)</b>
class EventObserverComponent {
	val messages = newArrayList

	def getMessages() {
		messages.join(",")
	}

	@EventObserver <i class="conum" data-value="9"></i><b>(9)</b>
	def void observe(MessageEvent event) {
		messages += event.message
	}
}

@Module(components=#[EventSourceComponent, EventObserverComponent])
interface TestModule {
	def EventSourceComponent source()

	def EventObserverComponent observer()
}

class Example {
	@Test
	def void test() {
		val module = TestModule.Peer.initialize <i class="conum" data-value="10"></i><b>(10)</b>
		assertEquals("M", module.observer.messages) <i class="conum" data-value="11"></i><b>(11)</b>
		module.source.fireEvent("1") <i class="conum" data-value="12"></i><b>(12)</b>
		assertEquals("M,1", module.observer.messages) <i class="conum" data-value="13"></i><b>(13)</b>
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare event class.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>EventSourceComponent</code> is eagerly initialized before <code>EventObserverComponent</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Inject event.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Fire event <code>"C"</code> when the <em>component instance</em> is initialized.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Declare event observer method without parameters.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Fire event <code>"M"</code> when the <em>module instance</em> is initialized.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><code>Event.fire()</code> can be used to fire <em>event</em>s.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><code>EventObserverComponent</code> is eagerly initialized after <code>EventSourceComponent</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Declare event observer method receiving the <em>event object</em>.</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><code>EventSourceComponent</code> fires event <code>"C"</code> during component initialization and <code>"M"</code> during module initialization.</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td><code>EventObserverComponent</code> received only <code>"M"</code> because it was initialized only after <code>EventSourceComponent</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="12"></i><b>12</b></td>
<td>Fire event <code>"1"</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="13"></i><b>13</b></td>
<td><code>EventObserverComponent</code> received message <code>"1"</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="dependency-injection-for-non-components">3.4. Dependency injection for non-components</h3>
<div class="paragraph">
<p>Dependency injection is supported for simple POJOs annotated with <code>@Injectable</code>. The <em>module</em> specified in this annotation will be used for <a href="#component-reference-resolution">component reference resolution</a>.<br>
Both field and constructor injection is supported. Besides, the injection of individual constructor parameters is supported as well, see the example below.</p>
</div>
<div class="paragraph">
<p>Component reference resolution works differently for abstract and non-abstract modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For non-abstract modules it works the same as in case of normal components.</p>
</li>
<li>
<p>However resolution is limited for abstract modules: a <em>component reference</em> can be resolved only if there is a compatible <a href="#module-level-component-references">module-level component reference</a> declared.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Event dispatch is not supported for non-components.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-xtend" data-lang="xtend">@Component
class ValueProvider {
	@Provider
	def String value() '''a'''
}

@Module(components=ValueProvider)
interface TestModule { <i class="conum" data-value="1"></i><b>(1)</b>
	def String value()
}

@Injectable(TestModule) <i class="conum" data-value="2"></i><b>(2)</b>
class Injectable1 {
	@Inject
	public String value
}

@Data
@Injectable(TestModule) <i class="conum" data-value="3"></i><b>(3)</b>
class Injectable2 {
	String value

	@Inject
	new(String value) {
		this.value = value
	}
}

@Data
@Injectable(TestModule) <i class="conum" data-value="4"></i><b>(4)</b>
class Injectable3 {
	int number

	String value

	new(int number, @Inject String value) {
		this.number = number
		this.value = value
	}
}

class Example {
	@Test
	def void test() {
		TestModule.Peer.initialize <i class="conum" data-value="5"></i><b>(5)</b>
		assertEquals("a", new Injectable1().value) <i class="conum" data-value="6"></i><b>(6)</b>
		assertEquals("a", new Injectable2().value) <i class="conum" data-value="7"></i><b>(7)</b>
		assertEquals("a", new Injectable3(1).value) <i class="conum" data-value="8"></i><b>(8)</b>
	}
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Declare module with provider component.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Declare injectable class <code>Injectable1</code> with field injection.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Declare injectable class <code>Injectable2</code> with constructor injection.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Declare injectable class <code>Injectable3</code> with constructor parameter injection.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Explicit module initialization is required before the <code>@Injectable</code> class is instantiated.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Instantiate <code>Injectable1</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Instantiate <code>Injectable2</code>. Note that because the constructor is injected therefore the object is created using a generated no-args constructor.</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Instantiate <code>Injectable3</code>. Note that because the declared 2-args constructor is injected therefore the object is created using a generated 1-arg constructor.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_faq">4. FAQ</h2>
<div class="sectionbody">
<div class="qlist qanda">
<ol>
<li>
<p><em>What is the license for <em>xtend-ioc</em>?</em></p>
<p>All sources code is licensed under <a href="https://www.mozilla.org/en-US/MPL/2.0/">MPL v2</a>.<br>
All documentation is licensed under <span class="image"><a class="image" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="https://i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" alt="80x15"></a></span></p>
</li>
<li>
<p><em>Is Java supported?</em></p>
<p>No, only Xtend is supported.<br>
Altough it would be possible to implement most <em>xtend-ioc</em> features using <a href="https://docs.oracle.com/javase/8/docs/api/javax/annotation/processing/package-summary.html">Java Annotation Processing</a>, it is not planned currently.</p>
</li>
<li>
<p><em>Is Google Web Toolkit supported?</em></p>
<p>Yes, the generated code is <a href="http://gwtproject.org/">GWT</a> compatible.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_appendix">5. Appendix</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_message_codes">5.1. Message codes</h3>
<div class="dlist">
<dl>
<dt class="hdlist1">[E001] @Module is supported only for interface declarations.</dt>
<dd>
<p>Only interfaces may be annotated with <code>@Module</code>.</p>
</dd>
<dt class="hdlist1">[E002] @Component is supported only for class declarations.</dt>
<dd>
<p>Only classes may be annotated with <code>@Component</code>.</p>
</dd>
<dt class="hdlist1">[E003] @Injectable is supported only for class declarations.</dt>
<dd>
<p>Only classes may be annotated with <code>@Injectable</code>.</p>
</dd>
<dt class="hdlist1">[E004] Component reference cycle detected: ComponentX &#8594; &#8230;&#8203; &#8594; ComponentX</dt>
<dd>
<p>There is a cycle in the component dependency graph therefore the correct order of component instantiation cannot be resolved.
See the section about the <a href="#component-dependency-graph">component dependency graph</a> how this error could be avoided.</p>
</dd>
<dt class="hdlist1">[E005] Component class should be non-generic: CLASS</dt>
<dd>
<p>Only component classes with not type parameters may be referenced by modules.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-11-06 19:50:17 Central Europe Standard Time
</div>
</div>
</body>
</html>